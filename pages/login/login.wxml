<!--pages/login/login.wxml-->
<view class="login-container">
  <!-- Logo 区域 -->
  <view class="logo-section">
    <image class="logo" src="/images/logo.png" mode="aspectFit"></image>
    <text class="app-name">智通校园</text>
    <text class="welcome-text">欢迎来到智通校园招聘平台</text>
  </view>

  <!-- 登录表单 -->
  <view class="form-section">
    <!-- 头像选择 -->
    <view class="form-item">
      <text class="form-label">选择头像</text>
      <button class="avatar-button" open-type="chooseAvatar" bindchooseavatar="onChooseAvatar">
        <image
          class="avatar-image"
          src="{{avatarUrl || '/images/default-avatar.png'}}"
          mode="aspectFill"
        ></image>
        <view class="avatar-tip" wx:if="{{!avatarUrl}}">
          <text class="iconfont icon-camera"></text>
          <text>点击选择头像</text>
        </view>
      </button>
    </view>

    <!-- 昵称输入 -->
    <view class="form-item">
      <text class="form-label">输入昵称</text>
      <input
        class="nickname-input"
        type="nickname"
        placeholder="请输入昵称"
        value="{{nickName}}"
        bindinput="onNicknameChange"
        maxlength="20"
      />
    </view>

    <!-- 登录按钮 -->
    <button
      class="login-button {{loading ? 'loading' : ''}}"
      bindtap="handleLogin"
      disabled="{{loading}}"
    >
      {{loading ? '登录中...' : '立即登录'}}
    </button>
  </view>

  <!-- 底部提示 -->
  <view class="footer-section">
    <text class="footer-text">登录即表示同意</text>
    <text class="footer-link">《用户协议》</text>
    <text class="footer-text">和</text>
    <text class="footer-link">《隐私政策》</text>
  </view>
</view>
