# 简历预览功能测试步骤

## 一、准备工作

### 1. 确认后端服务已启动
- 双击运行 `启动后端.bat` 文件
- 或者在IDEA中运行主类 `ZhiTongXiaoYuanApplication`
- 确认控制台输出显示服务启动成功，端口为 8080

### 2. 导入示例简历数据

#### 方法一：使用数据库管理工具（推荐）
1. 打开 Navicat 或其他MySQL管理工具
2. 连接到数据库 `zhitongxiaoyuan`
3. 打开文件 `src/main/resources/sql/sample_resume.sql`
4. 执行SQL脚本，导入示例简历数据

#### 方法二：使用命令行
```bash
# 进入MySQL命令行
mysql -uroot -p041029

# 切换到数据库
use zhitongxiaoyuan;

# 执行SQL文件
source G:/claude/ZhiTongXiaoYuan/src/main/resources/sql/sample_resume.sql;
```

### 3. 验证数据导入成功
在数据库中执行以下查询，确认数据已导入：
```sql
-- 查看简历基本信息
SELECT * FROM resume WHERE deleted = 0;

-- 查看教育经历
SELECT * FROM resume_education WHERE deleted = 0;

-- 查看实习经历
SELECT * FROM resume_internship WHERE deleted = 0;

-- 查看项目经历
SELECT * FROM resume_project WHERE deleted = 0;

-- 查看获奖经历
SELECT * FROM resume_award WHERE deleted = 0;
```

## 二、配置微信开发者工具

### 1. 关闭域名校验（重要！）
1. 打开微信开发者工具
2. 点击右上角"详情"按钮
3. 在"本地设置"选项卡中
4. **勾选"不校验合法域名、web-view（业务域名）、TLS 版本以及 HTTPS 证书"**
5. 这一步非常重要，否则无法请求 localhost 接口

### 2. 确认项目配置
- 确认 AppID 已正确配置
- 确认项目路径正确

## 三、测试简历预览功能

### 1. 启动小程序
1. 在微信开发者工具中打开项目
2. 点击"编译"按钮
3. 等待编译完成

### 2. 进入简历预览页面

#### 方法一：通过简历管理页面
1. 在小程序中导航到"简历"页面
2. 点击"预览简历"按钮
3. 如果有多个简历，选择要预览的简历

#### 方法二：直接访问预览页面（测试用）
1. 在微信开发者工具的"编译模式"中添加自定义编译模式
2. 启动页面设置为：`pages/resume-preview/resume-preview`
3. 启动参数设置为：`id=1`（假设导入的简历ID为1）
4. 点击"编译"

### 3. 查看预览效果
预览页面应该显示以下内容：

#### 个人信息头部（紫色渐变背景）
- 姓名：张小明
- 性别：男
- 年龄：22岁（根据出生日期自动计算）
- 手机：13800138000
- 邮箱：zhangxiaoming@example.com
- 学校：北京大学
- 学历：本科
- 专业：计算机科学与技术
- 毕业时间：2024.06
- 求职意向：Java后端开发工程师
- 期望城市：北京/上海/深圳
- 期望薪资：10K-15K

#### 教育经历（🎓图标）
- 北京大学（2020.09 - 2024.06）
  - 本科 · 计算机科学与技术
  - 主修课程、GPA、奖学金等信息
- 北京市第一中学（2017.09 - 2020.06）
  - 高中
  - 理科实验班相关信息

#### 实习经历（💼图标）
- 腾讯科技（深圳）有限公司（2023.07 - 2023.10）
  - Java后端开发实习生
  - 工作内容和成果
- 字节跳动科技有限公司（2023.03 - 2023.06）
  - 后端开发实习生
  - 工作内容和成果

#### 项目经历（🚀图标）
- 智通校园招聘小程序（2023.11 - 2024.01）
  - 后端负责人
  - 项目简介、技术栈、主要职责
- 在线图书管理系统（2022.09 - 2022.12）
  - 全栈开发
  - 项目简介、技术栈、主要职责

#### 获奖经历（🏆图标）
- 全国大学生程序设计竞赛 - 省级二等奖（2023.05）
- 北京大学优秀学生奖学金 - 校级一等奖（2022.12）
- 蓝桥杯全国软件和信息技术专业人才大赛 - 国家级三等奖（2022.06）
- 北京大学优秀学生干部 - 校级荣誉（2021.12）

#### 自我评价（✨图标）
- 完整的自我评价文本

#### 技能特长（⚡图标）
- Java、Spring Boot、MySQL等技能列表

## 四、常见问题排查

### 1. 网络请求失败
**问题**：显示"网络连接失败"或"网络请求失败"

**解决方案**：
- 确认后端服务已启动（访问 http://localhost:8080/api/hello 测试）
- 确认微信开发者工具已关闭域名校验
- 检查 `utils/request.js` 中的 `API_BASE_URL` 是否为 `http://localhost:8080/api`

### 2. 简历不存在
**问题**：显示"简历不存在"

**解决方案**：
- 确认已导入示例数据
- 检查数据库中是否有简历记录
- 确认传递的简历ID是否正确

### 3. 页面显示空白
**问题**：页面加载后显示"简历内容为空"

**解决方案**：
- 检查数据库中简历的各个字段是否有数据
- 查看控制台是否有错误信息
- 确认后端接口返回的数据格式是否正确

### 4. 日期显示异常
**问题**：日期显示为 NaN 或格式错误

**解决方案**：
- 检查数据库中的日期字段格式是否正确
- 确认 `formatDate` 函数是否正常工作
- 查看控制台是否有JavaScript错误

## 五、测试接口（可选）

使用浏览器或Postman测试后端接口：

### 1. 测试服务是否运行
```
GET http://localhost:8080/api/hello
```
预期返回：
```json
{
  "code": 200,
  "message": "Hello from Spring Boot!",
  "data": "智通校园后端服务运行正常"
}
```

### 2. 测试简历预览接口
```
GET http://localhost:8080/api/resume/preview/1
```
预期返回：
```json
{
  "code": 200,
  "message": "操作成功",
  "data": {
    "resume": { ... },
    "educationList": [ ... ],
    "internshipList": [ ... ],
    "projectList": [ ... ],
    "awardList": [ ... ]
  }
}
```

## 六、优化建议

### 1. 样式调整
- 可以根据需要调整 `resume-preview.wxss` 中的颜色、字体大小等
- 渐变色可以在 `.resume-header` 和 `.timeline-dot` 中修改

### 2. 功能扩展
- 分享功能：可以生成简历图片或链接
- 导出PDF：可以调用第三方服务生成PDF
- 打印功能：可以优化打印样式

### 3. 性能优化
- 添加数据缓存，减少重复请求
- 图片懒加载（如果添加了头像等图片）
- 分页加载（如果经历较多）

## 七、注意事项

1. **数据库连接**：确保 `application.yml` 中的数据库配置正确
2. **端口占用**：确保 8080 端口没有被其他程序占用
3. **数据完整性**：确保所有关联数据都已正确导入
4. **时区问题**：注意数据库和Java的时区设置一致
5. **字符编码**：确保数据库使用 UTF-8 编码，避免中文乱码

## 八、下一步

测试成功后，可以：
1. 完善简历编辑功能
2. 添加简历模板选择
3. 实现简历导出功能
4. 优化移动端显示效果
5. 添加简历分享功能
